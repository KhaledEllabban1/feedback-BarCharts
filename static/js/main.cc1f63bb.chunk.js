(this["webpackJsonpfeedback-system-melior"]=this["webpackJsonpfeedback-system-melior"]||[]).push([[0],{201:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n(8),a=n.n(o),c=(n(97),n(14)),i=(n(98),n(228)),u=n(77),s=n(10),l=n(232),d=new Headers;d.append("Content-type","application/json"),d.append("Accept","application/json"),d.append("Authorization","Bearer ".concat("SLSmxK17vjRInEWIiFQjwE1QIDfeSM"));var f={method:"Get",headers:d,redirect:"follow"},v=function(t,e){for(var n=0,r=0;r<e.length;r++)t[0].choices.filter((function(t){return"Good"===t.text}))[0].id===e[r].choice?n+=1:t[0].choices.filter((function(t){return"Neutral"===t.text}))[0].id===e[r].choice?n+=0:t[0].choices.filter((function(t){return"Bad"===t.text}))[0].id===e[r].choice&&(n+=-1);var o=parseFloat(n/e.length*100,10);return isNaN(o)&&(o=0),o},h=function(t){var e=[t.getMonth(),t.getDate(),t.getFullYear()],n=e[0],r=e[1],o="".concat(e[2],"-").concat(n+1,"-").concat(r);return o};Date.prototype.addDays=function(t){var e=new Date(this.valueOf());return e.setDate(e.getDate()+t),e};var g=n(42),b=n(12);g.defaults.global.tooltips.enabled=!0,g.defaults.global.legend.position="bottom";var p=function(t){var e=t.QuestionTwo,n=t.QuestionFour,r=t.Dates;return Object(b.jsx)("div",{children:Object(b.jsx)(g.Bar,{data:{labels:r,datasets:[{label:"QuestionTwo",data:e,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1},{label:"QuestionFour",data:n,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)"}]},height:400,width:600,options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{labels:{fontSize:25}}}})})},j=function(){var t,e=Object(r.useState)(new Date("2019-08-01T21:11:54")),n=Object(c.a)(e,2),o=n[0],a=n[1],d=Object(r.useState)(new Date("2019-09-01T21:11:54")),g=Object(c.a)(d,2),j=g[0],m=g[1],O=Object(r.useState)(h(o)),w=Object(c.a)(O,2),y=w[0],x=w[1],D=Object(r.useState)(h(j)),S=Object(c.a)(D,2),F=S[0],_=S[1],A=function(){var t=Object(r.useState)(0),e=Object(c.a)(t,2),n=e[0],o=e[1];return Object(r.useLayoutEffect)((function(){function t(){o(window.innerWidth)}return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[]),n}();t=A<768?10:A<1400?6:1401<A?10:0,console.log(t);var T=Object(r.useState)([]),I=Object(c.a)(T,2),C=I[0],k=I[1],Q=Object(r.useState)([]),q=Object(c.a)(Q,2),E=q[0],M=q[1],B=Object(r.useState)([]),L=Object(c.a)(B,2),P=L[0],z=L[1],N=Object(r.useState)([]),R=Object(c.a)(N,2),W=(R[0],R[1],Object(r.useState)([])),K=Object(c.a)(W,2),G=(K[0],K[1],Object(r.useState)([])),J=Object(c.a)(G,2),Y=J[0],H=J[1];Object(r.useEffect)((function(){fetch("https://staging.mymelior.com/v1/questions",f).then((function(t){return t.json()})).then((function(t){var e=t.length?t[t.findIndex((function(t){return"en"===t.lang}))].questions:[];M(e)})).catch((function(t){return console.log(t)})),fetch("https://staging.mymelior.com/v1/branches/1/progress?date_from=".concat(y,"&date_to=").concat(F),f).then((function(t){return t.json()})).then((function(t){k(t.line_chart_data?t.line_chart_data:[])})).catch((function(t){return console.log(t)}));for(var e=[],n=[],r=function(r){var a=function(t,e,n){for(var r=new Array,o=t;o<=e;){var a=[o.getMonth(),o.getDate(),o.getFullYear()],c=a[0],i=a[1],u="".concat(a[2],"-").concat(c+1,"-").concat(i);r.push(u),o=o.addDays(1)}console.log(r);var s=function(t){var e,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=[];for(e=0,n=t.length;e<n;e+=o)r=t.slice(e,e+o),a.push(r);return a}(r,Math.round(r.length/n));return console.log(s),s}(o,j,t),c=a[r][0],i=a[r][a[r].length-1];fetch("https://staging.mymelior.com/v1/branches/1/progress?date_from=".concat(c,"&date_to=").concat(i),f).then((function(t){return t.json()})).then((function(t){var o=t.line_chart_data?t.line_chart_data:[];e.push({order:r,rev:o}),n.push({order:r,datesFrom:c})})).catch((function(t){return console.log(t)}))},a=0;a<t;a++)r(a);console.log("Revvvvvvvvvvvvvvvvvvvvvvv",e),z(e),H(n)}),[y,F,o,j]);var Z=P.sort((function(t,e){return t.order-e.order})).map((function(t){return t.rev}));console.log("allReviewsArrrrrrrrrrrrrrr",Z);var U=Y.sort((function(t,e){return t.order-e.order})).map((function(t){return t.datesFrom}));console.log("DatesQuestionArr",U);var V=[],X=[];if(E.length>0&&P.length>0){for(var $=E.filter((function(t){return 2===t.id})),tt=E.filter((function(t){return 4===t.id})),et=function(t){var e=Z[t].map((function(t){return t.answers})),n=e.map((function(t){return t[t.findIndex((function(t){return 2===t.question}))]})),r=e.map((function(t){return t[t.findIndex((function(t){return 4===t.question}))]})),o=C.map((function(t){return t.submitted_at}));!function(){for(var t=0;t<e.length;t++)n[t].time=o[t]}();!function(){for(var t=0;t<e.length;t++)r[t].time=o[t]}();var a=v($,n);V.push(a);var c=v(tt,r);X.push(c)},nt=0;nt<Z.length;nt++)et(nt);console.log(V),console.log(X)}if(E.length>0&&C.length>0){var rt=C.map((function(t){return t.answers})),ot=rt.map((function(t){return t[t.findIndex((function(t){return 2===t.question}))]}));console.log("questionTwoAnswers",ot);var at=rt.map((function(t){return t[t.findIndex((function(t){return 4===t.question}))]}));console.log("questionFourAnswers",at);var ct=C.map((function(t){return t.submitted_at}));!function(){for(var t=0;t<rt.length;t++)ot[t].time=ct[t]}();!function(){for(var t=0;t<rt.length;t++)at[t].time=ct[t]}();var it=E.filter((function(t){return 2===t.id})),ut=E.filter((function(t){return 4===t.id})),st=v(it,ot);console.log("TotalAverageOfTwo",st);var lt=v(ut,at);console.log("TotalAverageOfFour",lt)}return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("span",{children:["Window size: ",A," "]}),Object(b.jsxs)(s.a,{utils:u.a,children:[Object(b.jsxs)(i.a,{container:!0,justifyContent:"space-around",children:[Object(b.jsx)(l.a,{disableToolbar:!0,InputProps:{readOnly:!0},variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Start Date",value:o,onChange:function(t){a(t);var e=h(t);x(e)},KeyboardButtonProps:{"aria-label":"change date"}}),Object(b.jsx)(l.a,{disableToolbar:!0,InputProps:{readOnly:!0},variant:"inline",margin:"normal",id:"date-picker-dialog-1",label:"End Date",format:"MM/dd/yyyy",value:j,onChange:function(t){m(t),_(h(t))},KeyboardButtonProps:{"aria-label":"change date"}})]}),Object(b.jsx)(i.a,{children:Object(b.jsx)(p,{QuestionTwo:V,QuestionFour:X,Dates:U})})]})]})},m=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,235)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,a=e.getLCP,c=e.getTTFB;n(t),r(t),o(t),a(t),c(t)}))};a.a.render(Object(b.jsx)(j,{}),document.getElementById("root")),m()},97:function(t,e,n){},98:function(t,e,n){}},[[201,1,2]]]);
//# sourceMappingURL=main.cc1f63bb.chunk.js.map