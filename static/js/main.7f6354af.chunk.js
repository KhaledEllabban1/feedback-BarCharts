(this["webpackJsonpfeedback-system-melior"]=this["webpackJsonpfeedback-system-melior"]||[]).push([[0],{102:function(e,_,t){},103:function(e,_,t){},14:function(e,_,t){"use strict";t.d(_,"d",(function(){return r})),t.d(_,"b",(function(){return s})),t.d(_,"a",(function(){return n})),t.d(_,"c",(function(){return o}));var a=new Headers;a.append("Content-type","application/json"),a.append("Accept","application/json"),a.append("Authorization","Bearer ".concat("SLSmxK17vjRInEWIiFQjwE1QIDfeSM"));var r={method:"Get",headers:a,redirect:"follow"},s=function(e,_){for(var t=0,a=0;a<_.length;a++)e[0].choices.filter((function(e){return"Good"===e.text}))[0].id===_[a].choice?t+=1:e[0].choices.filter((function(e){return"Neutral"===e.text}))[0].id===_[a].choice?t+=0:e[0].choices.filter((function(e){return"Bad"===e.text}))[0].id===_[a].choice&&(t+=-1);var r=parseFloat(t/_.length*100,10);return isNaN(r)&&(r=0),r},n=function(e){var _=[e.getMonth(),e.getDate(),e.getFullYear()],t=_[0],a=_[1],r="".concat(_[2],"-").concat(t+1,"-").concat(a);return r};function o(e,_,t){for(var a=new Array,r=e;r<=_;){var s=[r.getMonth(),r.getDate(),r.getFullYear()],n=s[0],o=s[1],i="".concat(s[2],"-").concat(n+1,"-").concat(o);a.push(i),r=r.addDays(1)}return function(e){var _,t,a,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,s=[];for(_=0,t=e.length;_<t;_+=r)a=e.slice(_,_+r),s.push(a);return s}(a,Math.round(a.length/t))}Date.prototype.addDays=function(e){var _=new Date(this.valueOf());return _.setDate(_.getDate()+e),_}},206:function(e,_,t){"use strict";t.r(_);t(0);var a=t(8),r=t.n(a),s=(t(102),t(76)),n=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,238)).then((function(_){var t=_.getCLS,a=_.getFID,r=_.getFCP,s=_.getLCP,n=_.getTTFB;t(e),a(e),r(e),s(e),n(e)}))},o=t(12);r.a.render(Object(o.jsx)(s.a,{}),document.getElementById("root")),n()},76:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_0_Apply_React_2_React_Projects_shamseya_feedback_system_melior_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_App_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(103),_App_css__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_App_css__WEBPACK_IMPORTED_MODULE_1__),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(81),_date_io_date_fns__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(80),_material_ui_pickers__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9),_material_ui_pickers__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(82),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(14),_components_bar_chart_bar_chart_component__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(77),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(12),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__),useWindowSize=function(){var e=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(0),_=Object(D_0_Apply_React_2_React_Projects_shamseya_feedback_system_melior_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(e,2),t=_[0],a=_[1];return Object(react__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)((function(){function e(){a(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t},App=function App(){var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Date("2019-08-01T21:11:54")),_useState4=Object(D_0_Apply_React_2_React_Projects_shamseya_feedback_system_melior_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),selectedDateOne=_useState4[0],setSelectedDateOne=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Date("2019-09-01T21:11:54")),_useState6=Object(D_0_Apply_React_2_React_Projects_shamseya_feedback_system_melior_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState5,2),selectedDateTwo=_useState6[0],setSelectedDateTwo=_useState6[1],_useState7=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(Object(_utils__WEBPACK_IMPORTED_MODULE_7__.a)(selectedDateOne)),_useState8=Object(D_0_Apply_React_2_React_Projects_shamseya_feedback_system_melior_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState7,2),dateFrom=_useState8[0],setDateFrom=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(Object(_utils__WEBPACK_IMPORTED_MODULE_7__.a)(selectedDateTwo)),_useState10=Object(D_0_Apply_React_2_React_Projects_shamseya_feedback_system_melior_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState9,2),dateTo=_useState10[0],setDateTo=_useState10[1],handleDateChange=function(e){setSelectedDateOne(e);var _=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.a)(e);setDateFrom(_),certainAverageOfTime("Two",2),certainAverageOfTime("Four",4)},handleDateChangeTwo=function(e){setSelectedDateTwo(e),setDateTo(Object(_utils__WEBPACK_IMPORTED_MODULE_7__.a)(e)),certainAverageOfTime("Two",2),certainAverageOfTime("Four",4)},width=useWindowSize(),value;value=width<768?4:width<1400?6:1401<width?10:0;var _useState11=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),_useState12=Object(D_0_Apply_React_2_React_Projects_shamseya_feedback_system_melior_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState11,2),Reviews=_useState12[0],setReviews=_useState12[1],_useState13=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),_useState14=Object(D_0_Apply_React_2_React_Projects_shamseya_feedback_system_melior_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState13,2),Questions=_useState14[0],setQuestions=_useState14[1],_useState15=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),_useState16=Object(D_0_Apply_React_2_React_Projects_shamseya_feedback_system_melior_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState15,2),QuestionTwoAverage=_useState16[0],setQuestionTwoAverage=_useState16[1],_useState17=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),_useState18=Object(D_0_Apply_React_2_React_Projects_shamseya_feedback_system_melior_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState17,2),QuestionFourAverage=_useState18[0],setQuestionFourAverage=_useState18[1],_useState19=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)([]),_useState20=Object(D_0_Apply_React_2_React_Projects_shamseya_feedback_system_melior_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState19,2),DatesQuestion=_useState20[0],setDatesQuestion=_useState20[1];Object(react__WEBPACK_IMPORTED_MODULE_2__.useEffect)((function(){fetch("https://staging.mymelior.com/v1/questions",_utils__WEBPACK_IMPORTED_MODULE_7__.d).then((function(e){return e.json()})).then((function(e){var _=e.length?e[e.findIndex((function(e){return"en"===e.lang}))].questions:[];setQuestions(_)})).catch((function(e){return console.log(e)})),fetch("https://staging.mymelior.com/v1/branches/1/progress?date_from=".concat(dateFrom,"&date_to=").concat(dateTo),_utils__WEBPACK_IMPORTED_MODULE_7__.d).then((function(e){return e.json()})).then((function(e){setReviews(e.line_chart_data?e.line_chart_data:[])})).catch((function(e){return console.log(e)}))}),[dateFrom,dateTo]);var duration=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.c)(selectedDateOne,selectedDateTwo,value),certainAverageOfTime=function certainAverageOfTime(questionString,questionNumber){for(var average=[],startDates=[],_loop=function(e){var _=duration[e][0],t=duration[e][duration[e].length-1];fetch("https://staging.mymelior.com/v1/branches/1/progress?date_from=".concat(_,"&date_to=").concat(t),_utils__WEBPACK_IMPORTED_MODULE_7__.d).then((function(e){return e.json()})).then((function(t){var a=(t.line_chart_data?t.line_chart_data:[]).map((function(e){return e.answers})).map((function(e){return e[e.findIndex((function(e){return e.question===questionNumber}))]})),r=Questions.filter((function(e){return e.id===questionNumber})),s=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.b)(r,a);average.push({order:e,average:s}),startDates.push({order:e,datesFrom:_})})).catch((function(e){return console.log(e)}))},i=0;i<value;i++)_loop(i);eval("setQuestion".concat(questionString,"Average"))(average),setDatesQuestion(startDates)},QuestionTwoAverageArr=QuestionTwoAverage.sort((function(e,_){return e.order-_.order})).map((function(e){return e.average}));console.log("QuestionTwoAverageArr",QuestionTwoAverageArr);var QuestionFourAverageArr=QuestionFourAverage.sort((function(e,_){return e.order-_.order})).map((function(e){return e.average}));console.log("QuestionFourAverageArr",QuestionFourAverageArr);var DatesQuestionArr=DatesQuestion.sort((function(e,_){return e.order-_.order})).map((function(e){return e.datesFrom}));if(console.log("DatesQuestionArr",DatesQuestionArr),Questions.length>0&&Reviews.length>0){var answers=Reviews.map((function(e){return e.answers})),questionTwoAnswers=answers.map((function(e){return e[e.findIndex((function(e){return 2===e.question}))]}));console.log("questionTwoAnswers",questionTwoAnswers);var questionFourAnswers=answers.map((function(e){return e[e.findIndex((function(e){return 4===e.question}))]}));console.log("questionFourAnswers",questionFourAnswers);var dateOfReview=Reviews.map((function(e){return e.submitted_at})),questionTwoAnswersWithTime=function(){for(var e=0;e<answers.length;e++)questionTwoAnswers[e].time=dateOfReview[e]};questionTwoAnswersWithTime();var questionFourAnswersWithTime=function(){for(var e=0;e<answers.length;e++)questionFourAnswers[e].time=dateOfReview[e]};questionFourAnswersWithTime();var questionTwoMeaning=Questions.filter((function(e){return 2===e.id})),questionFourMeaning=Questions.filter((function(e){return 4===e.id})),TotalAverageOfTwo=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.b)(questionTwoMeaning,questionTwoAnswers);console.log("TotalAverageOfTwo",TotalAverageOfTwo);var TotalAverageOfFour=Object(_utils__WEBPACK_IMPORTED_MODULE_7__.b)(questionFourMeaning,questionFourAnswers);console.log("TotalAverageOfFour",TotalAverageOfFour)}return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("div",{className:"App",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)("span",{children:["Window size: ",width," "]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_material_ui_pickers__WEBPACK_IMPORTED_MODULE_5__.a,{utils:_date_io_date_fns__WEBPACK_IMPORTED_MODULE_4__.a,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_3__.a,{container:!0,justifyContent:"space-around",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_material_ui_pickers__WEBPACK_IMPORTED_MODULE_6__.a,{disableToolbar:!0,InputProps:{readOnly:!0},variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Start Date",value:selectedDateOne,onChange:handleDateChange,KeyboardButtonProps:{"aria-label":"change date"}}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_material_ui_pickers__WEBPACK_IMPORTED_MODULE_6__.a,{disableToolbar:!0,InputProps:{readOnly:!0},variant:"inline",margin:"normal",id:"date-picker-dialog-1",label:"End Date",format:"MM/dd/yyyy",value:selectedDateTwo,onChange:handleDateChangeTwo,KeyboardButtonProps:{"aria-label":"change date"}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_material_ui_core_Grid__WEBPACK_IMPORTED_MODULE_3__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_components_bar_chart_bar_chart_component__WEBPACK_IMPORTED_MODULE_8__.a,{QuestionTwo:QuestionTwoAverageArr,QuestionFour:QuestionFourAverageArr,Dates:DatesQuestionArr})})]})]})};__webpack_exports__.a=App},77:function(e,_,t){"use strict";t(0);var a=t(43),r=t(12);a.defaults.global.tooltips.enabled=!0,a.defaults.global.legend.position="bottom";_.a=function(e){var _=e.QuestionTwo,t=e.QuestionFour,s=e.Dates;return Object(r.jsx)("div",{children:Object(r.jsx)(a.Bar,{data:{labels:s,datasets:[{label:"QuestionTwo",data:_,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1},{label:"QuestionFour",data:t,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)"}]},height:400,width:600,options:{maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{labels:{fontSize:25}}}})})}}},[[206,1,2]]]);
//# sourceMappingURL=main.7f6354af.chunk.js.map